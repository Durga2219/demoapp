flowchart TB
    subgraph "Frontend Application"
        subgraph "Authentication Layer"
            A1[Login Component]
            A2[Register Component]
            A3[Email Verification Component]
            A4[JWT Token Manager]
            A5[Route Guards]
        end
        
        subgraph "Core Components"
            B1[App Router]
            B2[Navigation Bar]
            B3[User Context Provider]
            B4[API Service Layer]
            B5[Error Boundary]
        end
        
        subgraph "Driver Components"
            C1[Driver Dashboard]
            C2[Driver Verification Form]
            C3[Vehicle Registration]
            C4[Create Ride Form]
            C5[My Rides List]
            C6[Ride Details View]
            C7[Driver Bookings]
        end
        
        subgraph "Passenger Components"
            D1[Passenger Dashboard]
            D2[Search Rides Form]
            D3[Available Rides List]
            D4[Ride Details View]
            D5[Booking Form]
            D6[My Bookings List]
            D7[Booking Details]
        end
        
        subgraph "Shared Components"
            E1[Profile Management]
            E2[Loading Spinner]
            E3[Error Alert]
            E4[Success Toast]
            E5[Confirmation Modal]
            E6[Date Picker]
            E7[Image Upload]
        end
        
        subgraph "State Management"
            F1[User State]
            F2[Ride State]
            F3[Booking State]
            F4[Vehicle State]
            F5[UI State]
        end
    end
    
    subgraph "Backend APIs"
        G1[Auth API]
        G2[Driver API]
        G3[Ride API]
        G4[Booking API]
        G5[Vehicle API]
        G6[User Profile API]
    end
    
    %% Data Flow Connections
    A1 --> A4
    A2 --> A4
    A4 --> F1
    F1 --> A5
    A5 --> B1
    
    B1 --> C1
    B1 --> D1
    B2 --> F1
    B3 --> F1
    B4 --> G1
    B4 --> G2
    B4 --> G3
    B4 --> G4
    B4 --> G5
    B4 --> G6
    
    C1 --> C2
    C1 --> C4
    C1 --> C5
    C2 --> F1
    C3 --> F4
    C4 --> F2
    C5 --> C6
    C6 --> C7
    
    D1 --> D2
    D1 --> D6
    D2 --> D3
    D3 --> D4
    D4 --> D5
    D5 --> F3
    D6 --> D7
    
    E1 --> F1
    E7 --> B4
    
    %% API Connections
    A1 -.-> G1
    A2 -.-> G1
    C2 -.-> G2
    C3 -.-> G5
    C4 -.-> G3
    C5 -.-> G3
    C7 -.-> G4
    D2 -.-> G3
    D5 -.-> G4
    D6 -.-> G4
    E1 -.-> G6
    
    %% State Connections
    F1 --> C1
    F1 --> D1
    F2 --> C5
    F2 --> D3
    F3 --> D6
    F4 --> C3
    F5 --> E2
    F5 --> E3
    F5 --> E4
    
    %% Styling
    style A4 fill:#e1f5fe
    style B3 fill:#e1f5fe
    style F1 fill:#fff3e0
    style F2 fill:#fff3e0
    style F3 fill:#fff3e0
    style F4 fill:#fff3e0
    style F5 fill:#fff3e0
    style G1 fill:#f3e5f5
    style G2 fill:#f3e5f5
    style G3 fill:#f3e5f5
    style G4 fill:#f3e5f5
    style G5 fill:#f3e5f5
    style G6 fill:#f3e5f5